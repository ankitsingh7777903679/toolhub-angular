<div class="min-h-screen bg-gray-50">
    <!-- Header -->
    <div class="py-12 text-center" style="background-color: #EDE9FE;">
        <div class="w-16 h-16 bg-white/40 rounded-2xl flex items-center justify-center mx-auto mb-4">
            <i class="fa-solid fa-images text-3xl" style="color: #7C3AED;"></i>
        </div>
        <h1 class="text-3xl font-bold text-gray-900 mb-2">JPG to PNG Converter</h1>
        <p class="text-gray-600">Convert your JPG images to PNG format with transparency support</p>
    </div>

    <div class="container mx-auto px-4 max-w-5xl py-12">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
            <div class="p-8 md:p-12">
                <div class="border-3 border-dashed border-gray-200 rounded-2xl p-10 text-center transition-all duration-300 hover:border-purple-400 hover:bg-purple-50/50 cursor-pointer"
                    (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)"
                    (click)="fileInput.click()">
                    <input #fileInput type="file" multiple accept="image/jpeg,.jpg,.jpeg" class="hidden"
                        (change)="onFileSelected($event)">
                    <div class="flex flex-col items-center justify-center space-y-4">
                        <div
                            class="w-20 h-20 bg-purple-100 rounded-full flex items-center justify-center text-purple-500 mb-2">
                            <i class="fa-solid fa-cloud-arrow-up text-3xl"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800">Drag & Drop files here</h3>
                        <p class="text-gray-500">or <span class="text-purple-500 font-semibold hover:underline">browse
                                files</span> from your computer</p>
                        <p class="text-xs text-gray-400 mt-2">Supports JPG/JPEG images</p>
                    </div>
                </div>

                @if (files.length > 0) {
                <div
                    class="mt-8 flex flex-col sm:flex-row justify-between items-center gap-4 bg-gray-50 p-4 rounded-xl border border-gray-100">
                    <div class="text-gray-600 font-medium">
                        <span class="text-gray-900 font-bold">{{ files.length }}</span> files selected
                    </div>
                    <div class="flex gap-3">
                        <button (click)="clearAll()"
                            class="px-5 py-2.5 rounded-lg text-red-500 font-medium hover:bg-red-50 transition-colors">Clear
                            All</button>
                        <button (click)="convertAll()" [disabled]="isConverting || allDone"
                            class="px-6 py-2.5 bg-purple-600 text-white rounded-lg font-bold shadow-lg shadow-purple-200 hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all">
                            {{ isConverting ? 'Converting...' : (allDone ? 'Converted!' : 'Convert to PNG') }}
                        </button>
                    </div>
                </div>
                }

                @if (isConverting) {
                <div class="mt-6">
                    <div class="flex justify-between text-sm font-medium text-gray-600 mb-2">
                        <span>Converting...</span><span>{{ progress }}%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5 overflow-hidden">
                        <div class="bg-purple-600 h-2.5 rounded-full transition-all duration-300"
                            [style.width.%]="progress"></div>
                    </div>
                </div>
                }

                @if (allDone) {
                <div class="mt-6 flex flex-col md:flex-row items-center justify-center gap-4">
                    @if (files.length > 1) {
                    <button (click)="downloadAll()"
                        class="flex-1 w-full md:w-auto inline-flex items-center justify-center gap-2 px-8 py-3 bg-green-500 text-white rounded-xl font-bold text-lg shadow-lg shadow-green-200 hover:bg-green-600 transition-all">
                        <i class="fa-solid fa-download"></i> Download All Files
                    </button>
                    }

                    <div class="w-full md:w-auto md:flex-1">
                        <app-send-to-tool [hasOutput]="!!firstConvertedImage" [currentRoute]="currentRoute"
                            [outputData]="firstConvertedImage || ''" [fileName]="firstFileName" [fileType]="'image'">
                        </app-send-to-tool>
                    </div>
                </div>
                }

                @if (files.length > 0) {
                <div class="mt-10 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6">
                    @for (file of files; track file.id) {
                    <div
                        class="group relative bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all overflow-hidden">
                        <div class="aspect-square bg-gray-100 relative overflow-hidden">
                            <img [src]="file.convertedUrl || file.previewUrl"
                                class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
                                alt="preview">
                            @if (file.status === 'converting') {
                            <div class="absolute inset-0 bg-black/50 flex items-center justify-center backdrop-blur-sm">
                                <i class="fa-solid fa-circle-notch fa-spin text-white text-2xl"></i>
                            </div>
                            } @else if (file.status === 'done') {
                            <div
                                class="absolute top-2 right-2 bg-green-500 text-white w-6 h-6 rounded-full flex items-center justify-center shadow-md">
                                <i class="fa-solid fa-check text-xs"></i>
                            </div>
                            }
                        </div>
                        <div class="p-3">
                            <p class="text-sm font-medium text-gray-700 truncate mb-2" [title]="file.name">{{ file.name
                                }}</p>
                            @if (file.status === 'done') {
                            <button (click)="downloadOne(file)"
                                class="w-full py-1.5 bg-gray-900 text-white text-xs font-bold rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center gap-2">
                                <i class="fa-solid fa-download"></i> Download
                            </button>
                            } @else {
                            <div class="h-7 flex items-center justify-center">
                                <span class="text-xs text-gray-400 font-medium">{{ (file.file.size / 1024).toFixed(1) }}
                                    KB</span>
                            </div>
                            }
                        </div>
                        <button (click)="removeFile(file.id)"
                            class="absolute top-2 left-2 w-8 h-8 bg-white/90 backdrop-blur-sm text-red-500 rounded-full flex items-center justify-center shadow-sm opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500 hover:text-white"
                            title="Remove file">
                            <i class="fa-solid fa-xmark"></i>
                        </button>
                    </div>
                    }
                </div>
                }
            </div>
        </div>

        <!-- SEO Content -->
        <article class="prose lg:prose-xl mx-auto mt-16 px-4 max-w-4xl">
            <h2 class="text-3xl font-bold text-gray-900 mb-6">JPG to PNG Converter — Keep the Quality, Gain Transparency
            </h2>
            <p class="text-gray-600 mb-8 leading-relaxed">
                Ever tried putting a JPG logo on a colored background and ended up with that ugly white rectangle around
                it? That's probably the most common reason people switch to PNG. JPG doesn't do transparency — it just
                can't. PNG handles it natively, so your logos, icons, and overlays sit cleanly on any surface without a
                visible border.
            </p>
            <p class="text-gray-600 mb-8 leading-relaxed">
                There's another side to it, too. Every time you re-save a JPG, it compresses again and loses a tiny bit
                more detail. PNG doesn't do that — it's lossless, so once you convert, what you see is what you keep.
                For screenshots, graphics with sharp text, UI mockups, or anything with clean lines, PNG just handles
                them better than JPG ever will. The trade-off is larger file sizes, but in situations where quality
                matters more than storage, that's a fair deal.
            </p>

            <h2 class="text-2xl font-bold text-gray-800 mb-4">How This Tool Works</h2>
            <p class="text-gray-600 mb-8 leading-relaxed">
                Drop your JPG files in (or click to browse), hit Convert, and you've got PNGs. It's batch-friendly too —
                throw in 20 files at once if you want, no limit. The whole conversion runs inside your browser using the
                Canvas API, so nothing gets uploaded anywhere. Your images stay on your machine the entire time.
            </p>

            <h2 class="text-2xl font-bold text-gray-800 mb-4">A Quick Note on File Sizes</h2>
            <p class="text-gray-600 mb-8 leading-relaxed">
                Don't be surprised if the PNG comes out bigger than the original JPG — that's completely normal. JPG
                achieves smaller sizes by discarding data you (hopefully) won't notice. PNG keeps everything, so it
                naturally takes up more space. For photos, expect PNGs to be roughly 2–5x larger. If file size is your
                priority, JPG or WebP might be the better format. But if you need transparency or lossless quality —
                like for a design asset, a logo, or a screenshot you'll edit later — PNG is the right call.
            </p>

            <h2 class="text-2xl font-bold text-gray-800 mb-4">Frequently Asked Questions</h2>
            <div class="space-y-4">
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-900 mb-2">Will converting to PNG magically fix a blurry JPG?</h3>
                    <p class="text-gray-600">Nope. If the JPG already has compression artifacts — those blocky, smudgy
                        areas you see in heavily compressed photos — those are baked into the pixel data. Converting to
                        PNG preserves them as-is. You won't lose any more quality, but you also won't gain any back.
                        Think of it as locking in what you currently have.</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-900 mb-2">I need the background removed, not just converted. Can this
                        do that?</h3>
                    <p class="text-gray-600">This tool converts the format but doesn't alter the image itself.
                        Converting to PNG enables transparency support, but it won't automatically remove the existing
                        background. For that, run the image through our Remove Background tool after (or before)
                        converting — the two work great together.</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-900 mb-2">Can I convert a whole folder at once?</h3>
                    <p class="text-gray-600">You can select or drag in multiple files at once — there's no cap on how
                        many. They all convert at the same time, and you can download each one individually or grab
                        everything together. If you have 50 product photos to convert, it takes about the same time as
                        converting one.</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-900 mb-2">Do my images get uploaded somewhere?</h3>
                    <p class="text-gray-600">No — nothing leaves your browser. The conversion uses the Canvas API
                        locally, so your files never touch a server. That makes it safe for sensitive stuff like client
                        work, personal photos, or anything you'd rather keep private.</p>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-sm border border-gray-100">
                    <h3 class="font-bold text-gray-900 mb-2">When should I stick with JPG instead?</h3>
                    <p class="text-gray-600">If you're working with photos and file size matters — like for a blog,
                        email, or social media — JPG is usually the smarter pick. It compresses way better for
                        photographic content. PNG really shines for graphics, screenshots, logos, and anything where
                        transparency or pixel-perfect sharpness is important.</p>
                </div>
            </div>
        </article>
    </div>
</div>